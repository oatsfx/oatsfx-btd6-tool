"use strict";(self.webpackChunkoatsfx_btd6_tool=self.webpackChunkoatsfx_btd6_tool||[]).push([[872],{4405:(e,a,s)=>{s.d(a,{B:()=>l});var t=s(579);const l=e=>{let{selectionName:a,selectionId:s,selections:l}=e;return(0,t.jsx)("div",{className:"flex gap-2",children:l.map((e=>(0,t.jsx)("a",{className:"py-2 px-2 transition ease-in-out border-b bg-black hover:bg-opacity-70 hover:cursor-pointer hover:text-accent hover:border-b-2"+(e.ids.includes(s)?" bg-black bg-opacity-30 text-primary border-b-2":" bg-opacity-0"),onClick:()=>{e.onClickFunction()},children:e.name},e.name)))})}},8424:(e,a,s)=>{s.d(a,{g:()=>l});var t=s(5043);const l=()=>{const[e,a]=(0,t.useState)([]),[s,l]=(0,t.useState)(!0);return(0,t.useMemo)((()=>{(async()=>{try{const e=await fetch("https://storage.googleapis.com/btd6-ct-map/event-seeds.json");if(!e.ok)throw new Error("Failed to fetch data");const s=await e.json(),t=s.flatMap(((e,a)=>e?[{id:e,number:a}]:[]));t.reverse(),a(t),console.log(s)}catch(e){console.log(e)}finally{l(!1)}})()}),[]),{data:e,loading:s}}},4409:(e,a,s)=>{s.d(a,{P:()=>l});var t=s(5043);const l=function(e,a,s,l){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1;const[o,c]=(0,t.useState)({}),[r,n]=(0,t.useState)([]),[d,m]=(0,t.useState)(!0),[x,p]=(0,t.useState)(!1);return(0,t.useMemo)((()=>{const t="https://data.ninjakiwi.com/btd6/bosses/",o="https://data.ninjakiwi.com/btd6/ct/",r={mode:"cors"};(async()=>{m(!0),p(!1),console.log("fetching leaderboards");try{let d="";if("Race"===e){const e=await fetch("https://data.ninjakiwi.com/btd6/races/"),s=await e.json();n(s.body),d=s.body[a].leaderboard}else if("Boss"===e){const e=await fetch(t),s=await e.json();n(s.body),d="Elite"===l?s.body[a].leaderboard_elite_players_1:s.body[a].leaderboard_standard_players_1}else if("Boss2"===e){const e=await fetch(t),s=await e.json();n(s.body),d="Elite"===l?s.body[a].leaderboard_elite_players_1.slice(0,-1)+"2":s.body[a].leaderboard_standard_players_1.slice(0,-1)+"2"}else if("Boss3"===e){const e=await fetch(t),s=await e.json();n(s.body),d="Elite"===l?s.body[a].leaderboard_elite_players_1.slice(0,-1)+"3":s.body[a].leaderboard_standard_players_1.slice(0,-1)+"3"}else if("Boss4"===e){const e=await fetch(t),s=await e.json();n(s.body),d="Elite"===l?s.body[a].leaderboard_elite_players_1.slice(0,-1)+"4":s.body[a].leaderboard_standard_players_1.slice(0,-1)+"4"}else if("CtTeam"===e){const e=await fetch(o),s=await e.json();n(s.body),d=s.body[a].leaderboard_team}else{const e=await fetch(o),s=await e.json();n(s.body),console.log(s),d=s.body[a].leaderboard_player}const m=await fetch(d+"?page="+s,r),x=await m.json();if(!x.success)throw new Error("Unsuccessful: "+x.error);console.log(i);for(let e=1;e<i;e++){const a=await fetch(d+"?page="+(s+e),r);if(!a.ok)throw new Error("Failed to fetch data");const t=await a.json();x.body=x.body.concat(t.body),console.log("got page: ",e)}if("Boss2"===e||"Boss3"===e||"Boss4"===e){let a=0;switch(e){case"Boss2":a=1;break;case"Boss3":a=2;break;case"Boss4":a=3}const s=[],t=[];for(let e=0;e<x.body.length;e++){const l=[],i=e;for(let o=i+1;o<=i+a&&!(o>=x.body.length);o++)x.body[e].scoreParts[0].score===x.body[o].scoreParts[0].score&&(l.push({displayName:x.body[o].displayName,profile:x.body[o].profile}),t.push(o),e++),s.push(l),x.body[i].otherPlayers=l}t.reverse().map((e=>{x.body.splice(e,1)}))}c(x)}catch(x){p(!0),console.log(x)}finally{m(!1)}})()}),[e,a,s,l]),{data:o,events:r,loading:d,error:x}}},5521:(e,a,s)=>{s.r(a),s.d(a,{default:()=>w});var t=s(9967);const l=s.p+"static/media/least_tiers_s.580e5fcabce61c87850b.webp",i=s.p+"static/media/ct_points_s.21c1fa829b0983778c2e.webp";var o=s(642),c=s(1104);const r=[{profileUrl:"https://data.ninjakiwi.com/btd6/users/9fbf128f8cc5fcf61c14894f5a25e5259a521fbf9743d96e",badgeName:"Developer",badgeTip:"Developed this site."}],n=[{profileUrl:"https://data.ninjakiwi.com/btd6/users/9fbf128f8cc5fcf61c14894f5a25e5259a521fbf9743d96e",name:"OatsFX"},{profileUrl:"https://data.ninjakiwi.com/btd6/users/9cb91089ddc5fea31f468c195e70b426cc0d1abe9d44da69",name:"ISAB"}];var d=s(579);const m=e=>{let{name:a,profileUrl:s}=e;const t=n.find((e=>e.name.toLowerCase()===a.toLowerCase()));return(0,d.jsxs)("div",{className:"flex gap-1",children:[r.some((e=>e.profileUrl===s))?r.filter((e=>e.profileUrl===s)).map((e=>(0,d.jsx)("div",{className:"badge badge-neutral tooltip bg-opacity-50 badge-sm -mt-[0.3rem] pb-0.5 hover:text-accent","data-tip":e.badgeTip,children:(0,d.jsx)("p",{className:"pointer-events-none",children:e.badgeName})},e.badgeName))):(0,d.jsx)(d.Fragment,{}),t?(0,d.jsx)("div",{className:"badge badge-neutral tooltip bg-opacity-50 badge-sm -mt-[0.3rem] pb-0.5 hover:text-accent","data-tip":"This is ".concat(t.profileUrl!==s?"not":""," the real ").concat(t.name,"."),children:(0,d.jsx)("p",{className:"pointer-events-none",children:t.profileUrl!==s?"Impersonation":"Verified"})},"verify"):(0,d.jsx)(d.Fragment,{})]})},x=s.p+"static/media/rank.e7cf8836274d5f34b48d.webp",p=s.p+"static/media/rank_veteran.bcbd625b590fcba8958c.webp";var b=s(6229),f=s(5043);const h=e=>{const[a,s]=(0,f.useState)({}),[t,l]=(0,f.useState)(!1),[i,o]=(0,f.useState)(!1);return{data:a,loading:t,fetchData:async()=>{l(!0);try{const a=await fetch(e);if(!a.ok)throw new Error("Failed to fetch data");const t=await a.json();console.log(e),t.model.name,s(t.body)}catch(a){console.log(a)}finally{l(!1)}o(!0)},fetched:i}},g=e=>{let{profileUrl:a,fetched:s,profileData:t,profileLoading:l,isPlayer:i}=e;const r=t,n=t,{data:f,loading:j,fetchData:u,fetched:v}=h(r.owner);return(0,d.jsxs)("dialog",{id:"".concat(a),className:"modal",children:[(0,d.jsxs)("div",{className:"modal-box max-w-3xl bg-top bg-no-repeat bg-contain outline outline-1 outline-white/25",style:{backgroundImage:"linear-gradient(to bottom, rgba(17, 17, 23, 0), rgba(17, 17, 23, 0.5)), url(".concat(t.bannerURL,")")},children:[(0,d.jsx)("div",{className:"modal-action",children:(0,d.jsx)("form",{method:"dialog",children:(0,d.jsx)("button",{className:"btn bg-opacity-80 btn-circle btn-sm outline outline-1 absolute right-6 top-6 outline-error text-error",children:"X"})})}),s&&!l?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"flex gap-4 items-end pt-8",children:[(0,d.jsx)("img",{src:i?n.avatarURL:r.frameURL,className:"w-[80px] h-[80px] rounded-xs"}),i?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)("img",{src:r.iconURL,className:"w-[80px] h-[80px] rounded-xs absolute"}),(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,d.jsx)("p",{className:"font-bold font-btd6 text-2xl drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)]",children:i?n.displayName:r.name}),(0,d.jsx)(m,{name:i?n.displayName:r.name,profileUrl:a})]}),i?(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsxs)("div",{className:"flex gap-2 tooltip","data-tip":"Rank",children:[(0,d.jsx)("img",{src:x,className:"h-[32px] drop-shadow-xl"}),(0,d.jsx)("p",{className:"absolute pt-1 font-black drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)] text-center w-[32px] pointer-events-none",children:n.rank})]}),0!==n.veteranRank?(0,d.jsxs)("div",{className:"flex gap-2 tooltip","data-tip":"Veteran Rank",children:[(0,d.jsx)("img",{src:p,className:"h-[32px] drop-shadow-xl"}),(0,d.jsx)("p",{className:"absolute pt-1 font-black drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)] text-center w-[32px] pointer-events-none",children:n.veteranRank})]}):(0,d.jsx)("div",{className:"flex gap-2"})]}):(0,d.jsxs)("div",{className:"flex gap-2",children:[(0,d.jsx)("img",{className:"h-[32px] drop-shadow-xl"}),(0,d.jsx)("p",{className:"absolute pt-1 font-black drop-shadow-[0_1.2px_1.2px_rgba(0,0,0,0.8)] text-center w-[32px]",children:r.status})]})]})]}),i?(0,d.jsx)(d.Fragment,{}):(0,d.jsxs)("div",{className:"overflow-x-hidden w-full max-h-56 h-32 my-2 py-4 flex flex-col items-center bg-base-200 rounded-xl",children:[(0,d.jsxs)("p",{className:"font-semibold text-lg",children:["Players: ",r.numMembers]}),(0,d.jsx)(g,{profileUrl:r.owner,fetched:v,profileData:f,profileLoading:j,isPlayer:!0}),(0,d.jsx)("button",{className:"btn",onClick:()=>{document.getElementById("".concat(r.owner)).showModal(),u()},children:"View Owner"})]}),(0,d.jsxs)("div",{className:"overflow-x-hidden w-full max-h-56 h-56 my-2 py-4 flex flex-col items-center bg-base-200 rounded-xl",children:[(0,d.jsx)("p",{className:"font-semibold text-lg",children:"Medals"}),i?(0,d.jsxs)("div",{className:"indicator items-center w-full px-12 py-4 gap-2 flex-wrap",children:[Object.keys(c.R8).filter((e=>n._medalsRace[(0,o.fh)(e)]>0)).map((e=>{var a;return(0,d.jsxs)("div",{className:"flex flex-col items-center tooltip indicator hidden lg:block","data-tip":"".concat(c.kt[e]),children:[(0,d.jsx)("img",{src:c.R8[e],className:"h-[28px]"}),(0,d.jsx)("div",{className:"indicator-item indicator-bottom indicator-center badge badge-sm bg-opacity-90",children:null!==(a=n._medalsRace[(0,o.fh)(e)])&&void 0!==a?a:0})]})})),Object.keys(c.oD).filter((e=>n._medalsBoss[(0,o.fh)(e)]>0)).map((e=>{var a;return(0,d.jsxs)("div",{className:"flex flex-col items-center tooltip indicator hidden lg:block","data-tip":"".concat(c.kt[e]),children:[(0,d.jsx)("img",{src:c.oD[e],className:"h-[28px]"}),(0,d.jsx)("div",{className:"indicator-item indicator-bottom indicator-center badge badge-sm bg-opacity-90",children:null!==(a=n._medalsBoss[(0,o.fh)(e)])&&void 0!==a?a:0})]})})),Object.keys(c.o9).filter((e=>n._medalsBossElite[(0,o.fh)(e)]>0)).map((e=>{var a;return(0,d.jsxs)("div",{className:"flex flex-col items-center tooltip indicator hidden lg:block","data-tip":"".concat(c.kt[e]),children:[(0,d.jsx)("img",{src:c.o9[e],className:"h-[28px]"}),(0,d.jsx)("div",{className:"indicator-item indicator-bottom indicator-center badge badge-sm bg-opacity-90",children:null!==(a=n._medalsBossElite[(0,o.fh)(e)])&&void 0!==a?a:0})]})})),Object.keys(c.Ks).filter((e=>n._medalsCTGlobal[(0,o.fh)(e)]>0)).map((e=>{var a;return n._medalsCTGlobal[(0,o.fh)(e)]>0?(0,d.jsxs)("div",{className:"flex flex-col items-center tooltip indicator hidden lg:block","data-tip":"".concat(c.kt[e]),children:[(0,d.jsx)("img",{src:c.Ks[e],className:"h-[28px]"}),(0,d.jsx)("div",{className:"indicator-item indicator-bottom indicator-center badge badge-sm bg-opacity-90",children:null!==(a=n._medalsCTGlobal[(0,o.fh)(e)])&&void 0!==a?a:0})]}):(0,d.jsx)(d.Fragment,{})}))]}):(0,d.jsx)("i",{className:"text-xs",children:"Nothing to see here... Literally"})]})]}):(0,d.jsx)("div",{className:"flex justify-center",children:(0,d.jsx)(b.R,{})})]}),(0,d.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,d.jsx)("button",{children:"close"})})]})},j=g,u=e=>{var a;let{entry:s,index:r,event:n,eventType:x,delta:p,showDelta:b,bossMode:f}=e;const g="CtTeam"!==x,{data:u,loading:v,fetchData:y,fetched:N}=h(s.profile),w=u,k=u,_=()=>{if(!b)return(0,d.jsx)(d.Fragment,{});let e="",a=!1;switch(x){case"Race":e=(0,o.xX)(p);break;case"Boss":case"Boss2":case"Boss3":case"Boss4":if("GameTime"===n.scoringType)e=(0,o.xX)(p);else e=p.toLocaleString();break;case"CtPlayer":case"CtTeam":a=!0,e=0!==p?(-1*p).toLocaleString():p.toLocaleString()}return(0,d.jsxs)("p",{className:"font-semibold text-sm drop-shadow-[0_1px_0px_rgba(0,0,0,0.4)]"+((a?p>=0:p<=0)?" text-success":" text-error"),children:[p<=0?"-":"+",e]})};return(0,d.jsxs)("div",{className:"flex flex-col gap-1 w-5/6 items-end",children:[(0,d.jsx)(j,{profileUrl:s.profile,fetched:N,profileData:u,profileLoading:v,isPlayer:g}),(0,d.jsxs)("div",{className:"indicator w-full flex outline outline-2 outline-white/30 hover:cursor-pointer justify-between px-5 py-1 bg-center bg-cover",style:{backgroundImage:N?"linear-gradient(to bottom, rgba(17, 17, 23, 0.2), rgba(17, 17, 23, 0.6)), url(".concat(u.bannerURL,")"):"linear-gradient(to bottom, rgba(17, 17, 23, 0.2), rgba(17, 17, 23, 0.6)), url(https://static-api.nkstatic.com/appdocs/4/assets/opendata/bbd8e1412f656b91db7df7aabbc1598b_TeamsBannerDeafult.png)"},onClick:()=>{document.getElementById("".concat(s.profile)).showModal(),y()},children:[(0,d.jsxs)("div",{className:"flex justify-start w-1/2",children:[(0,d.jsxs)("div",{className:"flex items-center gap-2 w-20",children:[(()=>{let e="";switch(x){case"Race":e=(0,o.be)(r+1,n.totalScores);break;case"Boss":case"Boss2":case"Boss3":case"Boss4":e="Standard"===f?(0,o.u3)(r+1,n.totalScores_standard):(0,o.Ei)(r+1,n.totalScores_standard);break;case"CtTeam":e=(0,o.YG)(r+1,n.totalScores_team);break;case"CtPlayer":e=(0,o.Us)(r+1,n.totalScores_player)}return(0,d.jsx)("img",{src:e,className:"w-[34px]"})})(),(0,d.jsx)("p",{className:"font-medium",children:(0,o.F$)(r+1)})]}),(0,d.jsxs)("div",{className:"flex items-center gap-2 w-1/4",children:[(0,d.jsx)("img",{src:N?g?k.avatarURL:w.frameURL:g?"https://static-api.nkstatic.com/appdocs/4/assets/opendata/db32af61df5646951a18c60fe0013a31_ProfileAvatar01.png":"https://static-api.nkstatic.com/appdocs/4/assets/opendata/4570fe44e0c89a609dd4853af7751bdb_TeamFrame1.png",className:"w-[38px]"}),g?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)("img",{src:w.iconURL,className:"w-[38px] absolute"}),(0,d.jsxs)("div",{className:"flex flex-col flex-nowrap",children:[(0,d.jsx)("p",{className:"[text-shadow:_0_2px_0_rgb(0_0_0)] font-semibold tracking-wider font-btd6 text-lg text-nowrap",children:s.displayName}),(0,d.jsx)(m,{name:s.displayName,profileUrl:s.profile})]})]})]}),(0,d.jsxs)("div",{className:"flex justify-between w-1/2 gap-[1.2rem]",children:[(()=>{switch(x){case"Race":return N?(0,d.jsx)("div",{className:"flex h-full gap-3 items-center",children:Object.keys(c.R8).filter((e=>k._medalsRace[(0,o.fh)(e)]>0)).slice(0,5).map((e=>{var a;return k._medalsRace[(0,o.fh)(e)]>0?(0,d.jsxs)("div",{className:"flex flex-col items-center tooltip indicator hidden lg:block","data-tip":"".concat(c.kt[e]),children:[(0,d.jsx)("img",{src:c.R8[e],className:"h-[28px]"}),(0,d.jsx)("div",{className:"indicator-item indicator-bottom indicator-center badge bg-opacity-90",children:null!==(a=k._medalsRace[(0,o.fh)(e)])&&void 0!==a?a:0})]}):(0,d.jsx)(d.Fragment,{})}))}):(0,d.jsx)("div",{className:"flex h-full gap-3 items-center"});case"Boss":case"Boss2":case"Boss3":case"Boss4":return"Standard"===f?N?(0,d.jsx)("div",{className:"flex h-full gap-3 items-center",children:Object.keys(c.oD).filter((e=>k._medalsBoss[(0,o.fh)(e)]>0)).slice(0,5).map((e=>{var a;return k._medalsBoss[(0,o.fh)(e)]>0?(0,d.jsxs)("div",{className:"flex flex-col items-center tooltip indicator hidden lg:block","data-tip":"".concat(c.kt[e]),children:[(0,d.jsx)("img",{src:c.oD[e],className:"h-[28px]"}),(0,d.jsx)("div",{className:"indicator-item indicator-bottom indicator-center badge bg-opacity-90",children:null!==(a=k._medalsBoss[(0,o.fh)(e)])&&void 0!==a?a:0})]}):(0,d.jsx)(d.Fragment,{})}))}):(0,d.jsx)("div",{className:"flex h-full gap-3 items-center"}):N?(0,d.jsx)("div",{className:"flex h-full gap-3 items-center",children:Object.keys(c.o9).filter((e=>k._medalsBossElite[(0,o.fh)(e)]>0)).slice(0,5).map((e=>{var a;return k._medalsBossElite[(0,o.fh)(e)]>0?(0,d.jsxs)("div",{className:"flex flex-col items-center tooltip indicator hidden lg:block","data-tip":"".concat(c.kt[e]),children:[(0,d.jsx)("img",{src:c.o9[e],className:"h-[28px]"}),(0,d.jsx)("div",{className:"indicator-item indicator-bottom indicator-center badge bg-opacity-90",children:null!==(a=k._medalsBossElite[(0,o.fh)(e)])&&void 0!==a?a:0})]}):(0,d.jsx)(d.Fragment,{})}))}):(0,d.jsx)("div",{className:"flex h-full gap-3 items-center"});case"CtTeam":default:return(0,d.jsx)("div",{className:"flex h-full gap-3 items-center"});case"CtPlayer":return N?(0,d.jsx)("div",{className:"flex h-full gap-3 items-center",children:Object.keys(c.Ks).filter((e=>k._medalsCTGlobal[(0,o.fh)(e)]>0)).slice(0,5).map((e=>{var a;return k._medalsCTGlobal[(0,o.fh)(e)]>0?(0,d.jsxs)("div",{className:"flex flex-col items-center tooltip indicator hidden lg:block","data-tip":"".concat(c.kt[e]),children:[(0,d.jsx)("img",{src:c.Ks[e],className:"h-[28px]"}),(0,d.jsx)("div",{className:"indicator-item indicator-bottom indicator-center badge bg-opacity-90",children:null!==(a=k._medalsCTGlobal[(0,o.fh)(e)])&&void 0!==a?a:0})]}):(0,d.jsx)(d.Fragment,{})}))}):(0,d.jsx)("div",{className:"flex h-full gap-3 items-center"})}})(),(0,d.jsxs)("div",{className:"flex flex-col h-full w-1/4 justify-center items-end",children:[(()=>{let e="",a="";switch(x){case"Race":e=(0,o.xX)(s.score);break;case"Boss":case"Boss2":case"Boss3":case"Boss4":switch(s.scoreParts[0].name){case"Game Time":e=(0,o.xX)(s.score);break;case"Cash Spent":a=t,e=s.score.toLocaleString();break;case"Tiers":a=l,e=s.score.toLocaleString();break;default:e=s.score.toLocaleString()}break;case"CtPlayer":case"CtTeam":a=i,e=s.score.toLocaleString()}return(0,d.jsxs)("div",{className:"text-right text-lg flex gap-1 justify-end items-center font-semibold text-nowrap -mt-1 ",children:[(0,d.jsx)("img",{src:a,className:"w-[18px]"}),(0,d.jsx)("span",{className:"font-btd6 drop-shadow-[0_2px_0px_rgba(0,0,0,0.4)]",children:e}),_()]})})(),(()=>{let e="",a="";if(s.scoreParts){switch(n.scoringType){case void 0:case"GameTime":e=(0,o.fF)(n.start+s.scoreParts.filter((e=>"Time after event start"===e.name))[0].score),a=new Date(n.start+s.scoreParts.filter((e=>"Time after event start"===e.name))[0].score).toLocaleString();break;default:e=(0,o.xX)(s.scoreParts.filter((e=>"Game Time"===e.name))[0].score),a="Game Time"}return(0,d.jsx)("span",{className:"text-right text-sm tooltip font-normal text-nowrap -mt-1 drop-shadow-[0_1px_0px_rgba(0,0,0,0.3)]","data-tip":a,children:e})}})()]})]})]},s.profile),null===(a=s.otherPlayers)||void 0===a?void 0:a.map((e=>(0,d.jsxs)("div",{className:"indicator w-full flex outline outline-1 outline-white/30 hover:cursor-pointer justify-between px-6 py-1 bg-center bg-cover",style:{backgroundImage:N?"linear-gradient(to bottom, rgba(17, 17, 23, 0.4), rgba(17, 17, 23, 1)), url(".concat(u.bannerURL,")"):"linear-gradient(to bottom, rgba(17, 17, 23, 0.2), rgba(17, 17, 23, 0.6)), url(https://static-api.nkstatic.com/appdocs/4/assets/opendata/bbd8e1412f656b91db7df7aabbc1598b_TeamsBannerDeafult.png)"},onClick:()=>{console.log("clicked ".concat(e.profile))},children:[(0,d.jsxs)("div",{className:"flex justify-start w-1/2",children:[(0,d.jsx)("div",{className:"flex items-center gap-2 w-20"}),(0,d.jsxs)("div",{className:"flex items-center gap-2 w-1/4",children:[(0,d.jsx)("img",{src:N?k.avatarURL:"https://static-api.nkstatic.com/appdocs/4/assets/opendata/db32af61df5646951a18c60fe0013a31_ProfileAvatar01.png",className:"w-[38px]"}),(0,d.jsxs)("div",{className:"flex flex-col flex-nowrap",children:[(0,d.jsx)("p",{className:"font-semibold text-lg text-nowrap",children:e.displayName}),(0,d.jsx)(m,{name:e.displayName,profileUrl:e.profile})]})]})]}),(0,d.jsxs)("div",{className:"flex justify-start w-1/2 gap-[1.2rem]",children:[N?(0,d.jsx)("div",{className:"flex gap-3 items-center",children:Object.keys(c.R8).filter((e=>k._medalsRace[(0,o.fh)(e)]>0)).slice(0,5).map((e=>{var a;return k._medalsRace[(0,o.fh)(e)]>0?(0,d.jsxs)("div",{className:"flex flex-col items-center tooltip indicator hidden lg:block","data-tip":"".concat(c.kt[e]),children:[(0,d.jsx)("img",{src:c.R8[e],className:"h-[28px]"}),(0,d.jsx)("div",{className:"indicator-item indicator-bottom indicator-center badge bg-opacity-90",children:null!==(a=k._medalsRace[(0,o.fh)(e)])&&void 0!==a?a:0})]}):(0,d.jsx)(d.Fragment,{})}))}):(0,d.jsx)("div",{className:"flex h-full gap-3 items-center"}),(0,d.jsx)("div",{className:"flex flex-col h-full w-16 justify-center items-end"})]})]},e.profile)))]})};var v=s(4405),y=s(8424),N=s(4409);const w=()=>{const[e,a]=(0,f.useState)({alertType:"alert",message:""}),{data:s,loading:t}=(0,y.g)(),[l,i]=(0,f.useState)("Race"),[c,r]=(0,f.useState)(0),[n,m]=(0,f.useState)(1),[x,p]=(0,f.useState)("Standard"),[h,g]=(0,f.useState)(-1),[j,w]=(0,f.useState)(!1),{data:k,events:_,loading:C,error:B}=(0,N.P)(l,c,n,x),S=e=>{const a=e.target.value;if(""===a||/^[0-9\b]*$/.test(a)){const e=Number(a)<1?1:Number(a);m(e)}};return(0,f.useEffect)((()=>{C||B||1!==n||g(k.body[0].score)}),[C]),(0,d.jsxs)("div",{className:"flex w-full flex-col items-center gap-4",children:[(0,d.jsxs)("p",{className:"font-bold text-2xl py-2 font-display tracking-tighter text-accent",children:[o.vp[l]," Leaderboard"]}),(0,d.jsxs)("div",{className:"flex gap-4 w-full items-center justify-center",children:[(0,d.jsxs)("div",{className:"flex flex-col w-full gap-2 items-center",children:[(0,d.jsx)(v.B,{selectionId:l,selectionName:l,selections:[{ids:["Race"],name:"Race",onClickFunction:()=>{i("Race"),r(0),a({alertType:"alert",message:""}),m(1)}},{ids:["Boss","Boss2","Boss3","Boss4"],name:"Boss",onClickFunction:()=>{i("Boss"),r(0),a({alertType:"alert",message:""}),m(1)}},{ids:["CtTeam","CtPlayer"],name:"Contested Territory",onClickFunction:()=>{i("CtTeam"),r(0),a({alertType:"alert",message:""}),m(1)}}]}),"CtTeam"===l||"CtPlayer"===l?(0,d.jsx)(v.B,{selectionId:l,selectionName:l,selections:[{ids:["CtTeam"],name:"Team",onClickFunction:()=>{i("CtTeam"),m(1)}},{ids:["CtPlayer"],name:"Player",onClickFunction:()=>{i("CtPlayer"),m(1)}}]}):(0,d.jsx)(d.Fragment,{}),"Boss"===l||"Boss2"===l||"Boss3"===l||"Boss4"===l?(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(v.B,{selectionId:x,selectionName:x,selections:[{ids:["Standard"],name:"Standard",onClickFunction:()=>{p("Standard"),m(1)}},{ids:["Elite"],name:"Elite",onClickFunction:()=>{p("Elite"),m(1)}}]}),(0,d.jsx)(v.B,{selectionId:l,selectionName:l,selections:[{ids:["Boss"],name:"Solo",onClickFunction:()=>{i("Boss"),a({alertType:"alert",message:""}),m(1)}},{ids:["Boss2"],name:"Duo",onClickFunction:()=>{i("Boss2"),a({alertType:"alert-warning",message:"Co-op leaderboards aren't offically supported by NinjaKiwi. Some values will be wrong, I can't fix that."}),m(1)}},{ids:["Boss3"],name:"Trio",onClickFunction:()=>{i("Boss3"),a({alertType:"alert-warning",message:"Co-op leaderboards aren't offically supported by NinjaKiwi. Some values will be wrong, I can't fix that."}),m(1)}},{ids:["Boss4"],name:"Quad",onClickFunction:()=>{i("Boss4"),a({alertType:"alert-warning",message:"Co-op leaderboards aren't offically supported yet. Some values will be wrong, I can't fix that."}),m(1)}}]})]}):(0,d.jsx)(d.Fragment,{})]}),(0,d.jsx)("div",{className:"divider divider-horizontal"}),(0,d.jsxs)("div",{className:"flex items-center w-full gap-4",children:[(0,d.jsxs)("p",{className:"text-nowrap",children:["Select a ",o.vp[l]," event:"]}),C?(0,d.jsx)("div",{className:"skeleton h-12 w-full max-w-xs"}):(0,d.jsx)("select",{id:"tile-select",className:"select select-bordered w-full max-w-xs",onChange:e=>{console.log(e.target.options.selectedIndex),r(e.target.options.selectedIndex)},value:_[c].name?_[c].name:"CtPlayer"===l||"CtTeam"===l?"".concat(s.filter((e=>e.id===_[c].id))[0].number," (").concat(s.filter((e=>e.id===_[c].id))[0].id,")"):_[c].id,children:_.map(((e,a)=>(0,d.jsx)("option",{children:e.name?e.name:"CtPlayer"===l||"CtTeam"===l?"".concat(s.filter((a=>a.id===e.id))[0].number," (").concat(s.filter((a=>a.id===e.id))[0].id,")"):_[c].id},a)))})]})]}),B?(0,d.jsx)(d.Fragment,{}):(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{className:"join",children:[(0,d.jsx)("button",{className:"join-item btn"+(k.prev?"":" btn-disabled"),onClick:()=>m(1),children:"\xab"}),(0,d.jsx)("button",{className:"join-item btn"+(k.prev?"":" btn-disabled"),onClick:()=>m((e=>e-1)),children:"\u2039"}),(0,d.jsx)("label",{className:"input join-item bg-base-200 hover:bg-base-300 flex items-center gap-2 z-50",children:(0,d.jsx)("input",{className:"font-medium text-lg max-w-40 text-center",type:"text",inputMode:"numeric",placeholder:"Score",value:n,onChange:S})}),(0,d.jsx)("button",{className:"join-item btn"+(k.next?"":" btn-disabled"),onClick:()=>m((e=>e+1)),children:"\u203a"}),(0,d.jsx)("button",{className:"join-item btn btn-disabled tooltip"+(k.next?"":" btn-disabled"),onClick:()=>m(25),"data-tip":"I don't know the max pages for this event.",children:"\xbb"})]}),(0,d.jsxs)("label",{className:"flex gap-4 cursor-pointer items-center",children:[(0,d.jsx)("input",{type:"checkbox",checked:j,className:"checkbox",onChange:()=>w((e=>!e))}),(0,d.jsx)("span",{className:"label-text",children:"Show Delta"})]}),C?(0,d.jsx)(d.Fragment,{}):(0,d.jsxs)("p",{children:["Showing players"," ",(0,o.F$)((n-1)*k.body.length+1),"-",(0,o.F$)(n*k.body.length)," of"," ",(()=>{switch(l){case"Boss":return"Standard"===x?void 0!==_[c].totalScores_standard?_[c].totalScores_standard:0:void 0!==_[c].totalScores_elite?_[c].totalScores_elite:0;case"CtPlayer":return void 0!==_[c].totalScores_player?_[c].totalScores_player:0;case"CtTeam":return void 0!==_[c].totalScores_team?_[c].totalScores_team:0;default:return void 0!==_[c].totalScores?_[c].totalScores:0}})().toLocaleString()," entries."]})]}),e.message.length>0?(0,d.jsxs)("div",{role:"alert",className:"alert w-2/3 "+e.alertType,children:[(0,d.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"stroke-current shrink-0 h-6 w-6",fill:"none",viewBox:"0 0 24 24",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,d.jsx)("span",{children:e.message})]}):(0,d.jsx)(d.Fragment,{}),B?(0,d.jsx)("p",{children:"Failed to grab data."}):(0,d.jsx)(d.Fragment,{children:C?(0,d.jsx)(b.R,{}):k.body.map(((e,a)=>(0,d.jsx)(u,{entry:e,index:a+(n-1)*k.body.length,event:_[c],eventType:l,delta:e.score-h,showDelta:j,bossMode:x},a)))}),B||C?(0,d.jsx)(d.Fragment,{}):(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("div",{className:"join",children:[(0,d.jsx)("button",{className:"join-item btn"+(k.prev?"":" btn-disabled"),onClick:()=>m(1),children:"\xab"}),(0,d.jsx)("button",{className:"join-item btn"+(k.prev?"":" btn-disabled"),onClick:()=>m((e=>e-1)),children:"\u2039"}),(0,d.jsx)("label",{className:"input join-item bg-base-200 hover:bg-base-300 flex items-center gap-2 z-50",children:(0,d.jsx)("input",{className:"font-medium text-lg max-w-40 text-center",type:"text",inputMode:"numeric",placeholder:"Score",value:n,onChange:S})}),(0,d.jsx)("button",{className:"join-item btn"+(k.next?"":" btn-disabled"),onClick:()=>m((e=>e+1)),children:"\u203a"}),(0,d.jsx)("button",{className:"join-item btn btn-disabled tooltip"+(k.next?"":" btn-disabled"),onClick:()=>m(25),"data-tip":"I don't know the max pages for this event.",children:"\xbb"})]})})]})}},9967:(e,a,s)=>{e.exports=s.p+"static/media/least_cash_s.39058b7c9ad6a6632888.webp"}}]);
//# sourceMappingURL=872.016c3734.chunk.js.map