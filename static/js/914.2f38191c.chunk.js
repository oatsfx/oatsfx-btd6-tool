"use strict";(self.webpackChunkoatsfx_btd6_tool=self.webpackChunkoatsfx_btd6_tool||[]).push([[914],{4405:(e,t,a)=>{a.d(t,{B:()=>o});var n=a(579);const o=e=>{let{selectionName:t,selectionId:a,selections:o}=e;return(0,n.jsx)("div",{className:"flex gap-2",children:o.map((e=>(0,n.jsx)("a",{className:"py-2 px-2 transition ease-in-out border-b bg-black hover:bg-opacity-70 hover:cursor-pointer hover:text-accent hover:border-b-2"+(e.ids.includes(a)?" bg-black bg-opacity-30 text-primary border-b-2":" bg-opacity-0"),onClick:()=>{e.onClickFunction()},children:e.name},e.name)))})}},1309:(e,t,a)=>{a.d(t,{P:()=>o});var n=a(5043);const o=e=>{const[t,a]=(0,n.useState)({}),o=[{name:"Regular",path:"data/OriginalRounds.json",isComplete:!0},{name:"Alternate Bloons Rounds",path:"data/alternateRound140.json",isComplete:!0},{name:"Bloonarius",path:"data/bloonarius.json",isComplete:!0},{name:"Lych",path:"data/lych.json",isComplete:!0},{name:"Vortex",path:"data/vortex.json",isComplete:!0},{name:"Dreadbloon",path:"data/dreadbloon.json",isComplete:!0},{name:"Phayze",path:"data/phayze.json",isComplete:!0},{name:"Race #291: Density Insanity",path:"data/raceExperiment.json",isComplete:!0}],[s,r]=(0,n.useState)(!0);return(0,n.useEffect)((()=>{(async()=>{try{const t=await fetch(o[e].path);if(!t.ok)throw new Error("Failed to fetch data");const n=await t.json();n.rounds=n.rounds.filter((e=>0!==e.roundNumber));const s=[];for(let e of n.rounds)for(let t of e.bloonGroups)s.includes(t.bloon)||s.push(t.bloon);a(n)}catch(t){console.log(t)}finally{r(!1)}})()}),[e]),{data:t,roundSetsDefs:o,loading:s}}},6914:(e,t,a)=>{a.r(t),a.d(t,{default:()=>u});var n=a(2517),o=a(6229),s=a(4405),r=a(5043),l=a(642),i=a(579);const c=e=>{let{value:t=0,onChange:a}=e;const[o,s]=(0,r.useState)((0,l.xX)(t));(0,r.useEffect)((()=>{s((0,l.xX)(t))}),[t]);return(0,i.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:[(0,i.jsx)("img",{src:n,className:"w-[24px]"}),(0,i.jsx)("input",{type:"text",value:o,onChange:e=>{s(e.target.value);const[t,n]=e.target.value.split(":");if(!n)return;const[o,r]=n.split(".");if(o.length>2)return;if(!r)return;console.log(e.target.value);const l=r?parseInt(r,10)*(1===r.length?100:2===r.length?10:1):0,i=o?parseInt(o,10)*(1===o.length?10:1):0,c=10*Math.ceil(l%1e3/10),d=(null===t?0:60*parseInt(t)*1e3)+1e3*i+c;console.log(d),a(d)},placeholder:"00:00.00",className:"text-xl max-w-40"})]})};var d=a(1309),m=a(5042);const u=()=>{const[e,t]=(0,r.useState)(1),[a,u]=(0,r.useState)(2),[x,p]=(0,r.useState)(0),{data:g,roundSetsDefs:h,loading:f}=(0,d.P)(x),[b,j]=(0,r.useState)("rtime"),[C,N]=(0,r.useState)(0),[R,w]=(0,r.useState)(0),v=200,y=e=>{const n=parseInt(e.target.value,10);n>g.rounds.length?t(g.rounds.length):t(n),n>=a&&u(n)},k=a=>{const n=parseInt(a.target.value,10);n>g.rounds.length?u(g.rounds.length):u(n),n<=e&&t(n)},F=(e,t,a)=>{const n=S(e,t);return(0,m.IC)(n)+v*(n.roundNumber-e)+a},B=(e,t)=>e+1e3/60,S=(e,t)=>g.rounds.filter((a=>a.roundNumber>=e&&a.roundNumber<=t)).reduce(((t,a)=>{const n=(0,m.D9)(a)+(a.roundNumber-e)*v;return(0,m.D9)(t)+(t.roundNumber-e)*v>n?t:a}));return(0,r.useEffect)((()=>{f||u(g.rounds.length)}),[f]),(0,i.jsxs)("div",{className:"flex flex-col items-center align-center justify-center",children:[(0,i.jsx)("p",{className:"font-bold text-2xl py-2 font-display tracking-tighter text-accent",children:"Race Time Calculator"}),f?(0,i.jsx)(o.R,{}):(0,i.jsxs)("div",{className:"flex flex-col w-1/2 items-center justify-center align-center gap-2",children:[(0,i.jsxs)("div",{className:"flex items-center gap-2 w-3/4",children:[(0,i.jsx)("p",{className:"w-1/2",children:"Round Set:"}),(0,i.jsx)("select",{id:"tile-select",className:"select select-bordered w-full max-w-xs my-4",onChange:e=>{p(e.target.options.selectedIndex),console.log(x)},value:h[x].name,children:h.map(((e,t)=>(0,i.jsx)("option",{disabled:!e.isComplete,children:e.name},t)))})]}),(0,i.jsxs)("div",{className:"flex w-full items-center gap-4 pt-4",children:[(0,i.jsx)("input",{type:"range",min:1,max:g.rounds.length,value:e,onChange:y,className:"range"}),(0,i.jsx)("label",{className:"input input-bordered flex items-center gap-2",children:(0,i.jsx)("input",{className:"font-medium text-lg max-w-10",type:"text",inputMode:"numeric",placeholder:"Start",value:e,onChange:y})})]}),(0,i.jsxs)("div",{className:"flex w-full items-center gap-4",children:[(0,i.jsx)("input",{type:"range",min:1,max:g.rounds.length,value:a,onChange:k,className:"range"}),(0,i.jsx)("label",{className:"input input-bordered flex items-center gap-2",children:(0,i.jsx)("input",{className:"font-medium text-lg max-w-10",type:"text",inputMode:"numeric",placeholder:"End",value:a,onChange:k})})]}),(0,i.jsx)(s.B,{selectionId:b,selectionName:"goal"===b?"Goal Time":"Race Time",selections:[{ids:["rtime"],name:"Race Time",onClickFunction:()=>{j("rtime")}},{ids:["goal"],name:"Goal Time",onClickFunction:()=>{j("goal")}}]}),"goal"===b?(0,i.jsxs)("div",{className:"items-center text-center py-6",children:[(0,i.jsx)("p",{children:"Time you want to achieve:"}),(0,i.jsx)(c,{value:R,onChange:w})]}):(0,i.jsxs)("div",{className:"items-center text-center py-6",children:[(0,i.jsxs)("p",{children:["Send from Round"," ",(0,i.jsx)("span",{className:"text-xl font-bold",children:e})," to Round"," ",(0,i.jsx)("span",{className:"text-xl font-bold",children:S(e,a).roundNumber})," ","at:"]}),(0,i.jsx)(c,{value:C,onChange:N})]}),(0,i.jsx)("div",{className:"flex flex-col gap-2 items-center outline outline-2 outline-white/50 p-4",children:"goal"===b?(0,i.jsx)(i.Fragment,{children:R<B(F(e,a,C))?(0,i.jsx)("p",{children:"Not possible."}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)("p",{className:"text-center",children:["You need to send from Round"," ",(0,i.jsx)("span",{className:"text-xl font-bold",children:e})," to Round"," ",(0,i.jsx)("span",{className:"text-xl font-bold",children:S(e,a).roundNumber})," ","before:"]}),(0,i.jsxs)("div",{className:"text-3xl font-semibold flex items-center gap-2",children:[(0,i.jsx)("img",{src:n,className:"h-[32px]"}),(0,l.xX)(((e,t,a)=>{const n=S(e,t),o=a-((0,m.IC)(n)+v*(n.roundNumber-e)+1e3/60);return o<0?0:o})(e,a,R)),(0,i.jsx)("img",{src:n,className:"h-[32px]"})]}),(0,i.jsxs)("p",{children:["in order to get"," ",(0,i.jsx)("span",{className:"text-xl font-bold",children:(0,l.xX)(R)}),", assuming you perfect clean."]})]})}):(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("p",{className:"text-center",children:"You will get"}),(0,i.jsxs)("div",{className:"text-3xl font-semibold flex items-center gap-2",children:[(0,i.jsx)("img",{src:n,className:"h-[32px]"}),(0,l.xX)(B(F(e,a,C))),(0,i.jsx)("img",{src:n,className:"h-[32px]"})]}),(0,i.jsxs)("p",{children:["assuming you perfect clean Round"," ",(0,i.jsx)("span",{className:"text-xl font-bold",children:S(e,a).roundNumber})," ","(",(0,i.jsx)("span",{className:"text-lg font-medium",children:(0,m.D9)(S(e,a))/1e3})," ","seconds)."]})]})}),(0,i.jsx)("ul",{className:"list-disc items-center",children:(t=>{const n=g.rounds.slice(S(e,a).roundNumber,a).sort(((e,t)=>(0,m.D9)(t)-(0,m.D9)(e)));console.log(n);let o=S(e,a);return n.reduce(((e,a)=>{if(a.roundNumber<o.roundNumber)return e;const n=o,s=a,r=t-((0,m.IC)(s)+(s.roundNumber-n.roundNumber-1)*v);return console.log({start:n.roundNumber,end:s.roundNumber,time:r}),o=s,s.roundNumber>n.roundNumber&&e.push({startRound:n,endRound:s,time:r}),e}),[])})("rtime"===b?F(e,a,C):R).map(((e,t)=>(0,i.jsxs)("li",{children:["then send from Round"," ",(0,i.jsx)("span",{className:"text-xl font-bold",children:e.startRound.roundNumber})," ","to Round"," ",(0,i.jsx)("span",{className:"text-xl font-bold",children:e.endRound.roundNumber})," ","before"," ",(0,i.jsx)("span",{className:"text-xl font-bold",children:(0,l.xX)(e.time)})]},t)))})]}),(0,i.jsx)("div",{className:"divider"})]})}},5042:(e,t,a)=>{a.d(t,{D9:()=>o,IC:()=>s,ef:()=>n});const n=["Red","RedCamo","RedRegrow","RedRegrowCamo","Blue","BlueCamo","BlueRegrow","BlueRegrowCamo","Green","GreenCamo","GreenRegrow","GreenRegrowCamo","Yellow","YellowCamo","YellowRegrow","YellowRegrowCamo","Pink","PinkCamo","PinkRegrow","PinkRegrowCamo","Black","BlackCamo","BlackRegrow","BlackRegrowCamo","White","WhiteCamo","WhiteRegrow","WhiteRegrowCamo","Purple","PurpleCamo","PurpleRegrow","PurpleRegrowCamo","Zebra","ZebraCamo","ZebraRegrow","ZebraRegrowCamo","Lead","LeadCamo","LeadFortified","LeadFortifiedCamo","LeadRegrow","LeadRegrowCamo","LeadRegrowFortified","LeadRegrowFortifiedCamo","Rainbow","RainbowCamo","RainbowRegrow","RainbowRegrowCamo","Ceramic","CeramicCamo","CeramicFortified","CeramicFortifiedCamo","CeramicRegrow","CeramicRegrowCamo","CeramicRegrowFortified","CeramicRegrowFortifiedCamo","Moab","MoabFortified","Bfb","BfbFortified","Zomg","ZomgFortified","DdtCamo","DdtFortifiedCamo","Bad","BadFortified"],o=e=>{const t=e.bloonGroups.reduce(((e,t)=>{const a=t.start+t.duration;return Math.max(e,a)}),0);return 10*Math.round(100*t)},s=e=>{const t=e.bloonGroups.reduce(((e,t)=>{const a=t.start+t.duration;return Math.max(e,a)}),0);return Math.ceil(60*t)/60*1e3}}}]);
//# sourceMappingURL=914.2f38191c.chunk.js.map