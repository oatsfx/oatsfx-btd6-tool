"use strict";(self.webpackChunkbtd6_least_cash_calc=self.webpackChunkbtd6_least_cash_calc||[]).push([[635],{3977:(e,s,l)=>{l.r(s),l.d(s,{default:()=>v});var t=l(9967);const a=[{name:"Air and Sea",id:"air_and_sea",image:l(202),description:"Ace, Heli, Buccaneer and Sub have their placement and upgrade costs reduced by 5%, and their reload improved by 5% "},{name:"Box of Monkey",id:"box_of_monkey",image:l(8817),description:"Start each game with one free Monkey costing $400 or less for unmodified initial placement."},{name:"Magic Monkeys",id:"magic_monkeys",image:l(8678),description:"Reduces cost of all Magic Monkeys by 8%."},{name:"Marching Boots",id:"marching_boots",image:l(4811),description:"In restricted count games, give players +1 max count of each tower in their loadout or +4 total max count per game."},{name:"Military Monkeys",id:"military_monkeys",image:l(550),description:"Reduces cost of all Military Monkeys by 8%."},{name:"Monkey Tycoon",id:"monkey_tycoon",image:l(7178),description:"Get +1 of all Monkey Towers in your loadout and their base price is reduced by 4%."},{name:"Primary Primates",id:"primary_primates",image:l(8638),description:"Reduces cost of all Primary Monkeys by 8%."},{name:"Support Simians",id:"support_simians",image:l(5686),description:"Reduces cost of all Support Monkeys by 8%."},{name:"Starting Stash",id:"starting_stash",image:l(4618),description:"Start each game with an extra 250 cash (stacks with More Cash on Regular Tiles)."}];var i=l(5043),o=l(579);const n=e=>{let{data:s,loading:l,relics:t,handleRelicFilterClick:n}=e;const[r,c]=(0,i.useState)([]),d=e=>{n(e.target.id)};return(0,i.useEffect)((()=>{let e=[];Object.entries(s.tiles).map((s=>{s[1].relic&&e.push(s[1].relic)})),c(e)}),[s]),(0,o.jsxs)("div",{className:"w-64",children:[(0,o.jsx)("p",{className:"text-lg font-medium text-center",children:"What Relics did the team have?"}),(0,o.jsx)("div",{className:"w-full",children:l?(0,o.jsxs)("div",{className:"flex flex-col gap-2 w-full py-2 items-center",children:[(0,o.jsx)("div",{className:"skeleton h-6 w-full"}),(0,o.jsx)("div",{className:"skeleton h-6 w-full"}),(0,o.jsx)("div",{className:"skeleton h-6 w-full"}),(0,o.jsx)("div",{className:"skeleton h-6 w-full"}),(0,o.jsx)("div",{className:"skeleton h-6 w-full"}),(0,o.jsx)("div",{className:"skeleton h-6 w-full"}),(0,o.jsx)("div",{className:"skeleton h-6 w-full"}),(0,o.jsx)("div",{className:"skeleton h-6 w-full"})]}):a.map((e=>(0,o.jsx)("div",{className:"tooltip flex","data-tip":r.includes(e.id)?e.description:"Not available this event.",children:(0,o.jsxs)("label",{className:"label w-full"+(r.includes(e.id)?" cursor-pointer":" cursor-not-allowed opacity-40"),children:[(0,o.jsx)("img",{src:e.image,className:"w-[28px]"}),(0,o.jsx)("span",{className:"label-text",children:e.name}),(0,o.jsx)("input",{type:"checkbox",checked:t.includes(e.id),className:"checkbox checkbox-sm",id:e.id,disabled:!r.includes(e.id),onChange:d})]})},e.id)))})]})};var r=l(7499);const c={colour:null,tile_type:"regular",relic:null,game_type:null,boss:null,tiers:null,game_mode:null,map:null,difficulty:null,cash:null,start_round:null,end_round:null,max_towers:null,monkey_knowledge:null,selling:null,ceramic_health:100,moab_health:100,bloon_speed:100,moab_speed:100,regrow_rate:100,heroes:[],towers:[]},d=["admiral_brickell","adora","benjamin","captain_churchill","corvus","etienne","ezili","geraldo","gwendolin","obyn_greenfoot","pat_fusty","psi","quincy","sauda","striker_jones"],m=l.p+"static/media/selling_disabled.b93aa85cb5afbb0dff98.webp",h=l.p+"static/media/monkey_knowledge_disabled.b3f9bea9fde617f36ea8.webp";var u=l(642);const p=e=>{let{name:s,image:l,indicator:t}=e;return(0,o.jsxs)("div",{className:"tooltip before:z-48 before:content-[attr(data-tip)] block z-[50] !overflow-visible","data-tip":(0,u.iS)(s),children:[t?(0,o.jsx)("span",{className:"indicator-item indicator-bottom indicator-center badge font-medium shadow-lg",children:t}):null,(0,o.jsx)("div",{className:"avatar",children:(0,o.jsx)("div",{className:"w-8 rounded-full shadow outline outline-1 outline-white/25",children:(0,o.jsx)("img",{src:l})})})]})},x=e=>{var s;let{tileCode:l,tile:t}=e;return(0,o.jsxs)("div",{className:"indicator w-full flex flex-col outline outline-1 outline-white/50 rounded-xl items-center my-8 py-4 pb-6 bg-no-repeat bg-top bg-cover bg-clip-border "+r.Di[t.map],children:[(0,o.jsxs)("div",{className:"indicator-item indicator-top indicator-center badge badge-ghost font-semibold gap-1 px-5 py-3 outline outline-1 outline-white/25",children:[(0,o.jsx)("img",{src:r.pi[t.game_type],className:"w-[16px]"}),(0,u.iS)(t.game_type)]}),(0,o.jsx)("p",{className:"font-bold text-2xl text-center",children:l}),(0,o.jsxs)("p",{className:"font-medium text-md text-center",children:[(0,u.iS)(t.map)," //"," ",(0,u.iS)(t.difficulty)]}),(0,o.jsxs)("p",{className:"text-md text-center",children:["$".concat(null===(s=t.cash)||void 0===s?void 0:s.toLocaleString()," // ")," ","Round ".concat(t.start_round,"-").concat(t.end_round)]}),(0,o.jsxs)("div",{className:"flex flex-wrap gap-2 pt-2 justify-center items-center",children:[t.selling?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)("div",{className:"tooltip indicator before:z-50","data-tip":"Selling Disabled",children:(0,o.jsx)("img",{src:m,className:"w-[34px]"})}),t.monkey_knowledge?(0,o.jsx)(o.Fragment,{}):(0,o.jsx)("div",{className:"tooltip indicator before:z-50","data-tip":"Monkey Knowledge Disabled",children:(0,o.jsx)("img",{src:h,className:"w-[34px]"})}),"relic"===t.tile_type?(0,o.jsx)("div",{className:"tooltip indicator before:z-50","data-tip":(0,u.iS)(t.relic),children:(0,o.jsx)("img",{src:r.Gh[t.relic],className:"w-[34px]"})}):(0,o.jsx)("div",{className:"tooltip indicator before:z-50","data-tip":(0,u.iS)(t.tile_type),children:(0,o.jsx)("img",{src:r.fO[t.tile_type],className:"w-[34px]"})})]}),t.heroes.length?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("div",{className:"divider px-4",children:t.heroes.length>8?"Heroes Excluded":"Heroes"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2 gap-y-3 justify-center",children:t.heroes.length>8?d.filter((e=>!t.heroes.includes(e))).map((e=>(0,o.jsx)(p,{name:e,image:r.l3[e]},e))):t.heroes.map((e=>(0,o.jsx)(p,{name:e,image:r.l3[e]},e)))})]}):null,(0,o.jsx)("div",{className:"divider px-4",children:"Towers"}),(0,o.jsx)("div",{className:"flex flex-wrap gap-2 gap-y-3 justify-center",children:t.towers.map((e=>(0,o.jsx)(p,{name:e.tower,image:r.yc[e.tower],indicator:e.max>0?e.max:"\u221e"},e.tower)))})]})};var g=l(5393),f=l(7294),j=l(2905);const w=e=>{let{data:s,loading:l,selectedTile:t,relics:a,changeTile:n}=e;const[c,d]=(0,i.useState)("all"),[m,h]=(0,i.useState)({}),p=e=>{d(e.target.value)},w=e=>{d("relic"),n(e.target.id),document.getElementById("tile-select").value=e.target.id};return(0,i.useEffect)((()=>{const e=Object.keys(s.tiles).sort().reduce(((e,l)=>("least_cash"!==s.tiles[l].game_type||"all"!==c&&s.tiles[l].tile_type!==c||(e[l]=s.tiles[l]),e)),{});Object.keys(e).includes(t)||""===t||n(Object.keys(e).at(0)),h(e)}),[c,s]),(0,o.jsx)("div",{className:"w-64",children:(0,o.jsxs)("div",{className:"w-full justify-center",children:[(0,o.jsx)("p",{className:"text-lg font-medium text-center",children:"What tile was this scored on?"}),l?(0,o.jsxs)("div",{className:"flex flex-col gap-2 w-full py-2 items-center",children:[(0,o.jsx)("div",{className:"skeleton h-12 w-full"}),(0,o.jsx)("div",{className:"skeleton h-3 w-full"}),(0,o.jsxs)("div",{className:"flex gap-2",children:[(0,o.jsx)("div",{className:"skeleton w-8 h-8 rounded-full shrink-0"}),(0,o.jsx)("div",{className:"skeleton w-8 h-8 rounded-full shrink-0"}),(0,o.jsx)("div",{className:"skeleton w-8 h-8 rounded-full shrink-0"}),(0,o.jsx)("div",{className:"skeleton w-8 h-8 rounded-full shrink-0"}),(0,o.jsx)("div",{className:"skeleton w-8 h-8 rounded-full shrink-0"}),(0,o.jsx)("div",{className:"skeleton w-8 h-8 rounded-full shrink-0"})]})]}):(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"flex gap-4 py-1 justify-center",children:[(0,o.jsxs)("label",{className:"label flex-col cursor-pointer",children:[(0,o.jsx)("input",{type:"radio",name:"radio-1",value:"banner",className:"radio",checked:"banner"===c,onChange:p}),(0,o.jsx)("img",{className:"w-[28px] py-2",src:g})]}),(0,o.jsxs)("label",{className:"label flex-col cursor-pointer",children:[(0,o.jsx)("input",{type:"radio",name:"radio-1",value:"relic",className:"radio",checked:"relic"===c,onChange:p}),(0,o.jsx)("img",{className:"w-[28px] py-2",src:f})]}),(0,o.jsxs)("label",{className:"label flex-col cursor-pointer",children:[(0,o.jsx)("input",{type:"radio",name:"radio-1",value:"regular",className:"radio",checked:"regular"===c,onChange:p}),(0,o.jsx)("img",{className:"w-[28px] py-2",src:j})]}),(0,o.jsxs)("label",{className:"label flex-col cursor-pointer",children:[(0,o.jsx)("input",{type:"radio",name:"radio-1",value:"all",className:"radio",checked:"all"===c,onChange:p}),(0,o.jsx)("p",{className:"text-sm py-3",children:"All"})]})]}),(0,o.jsxs)("div",{className:"flex gap-6",children:[(0,o.jsxs)("select",{id:"tile-select",className:"select select-bordered w-full max-w-xs",onChange:e=>{const s=e.target.value;n(s)},defaultValue:"Select a tile",children:[(0,o.jsx)("option",{disabled:!0,children:"Select a tile"}),Object.entries(m).map((e=>(0,o.jsx)("option",{id:e[0],children:e[0]},e[0])))]}),(0,o.jsxs)("details",{className:"dropdown dropdown-right dropdown-center",children:[(0,o.jsx)("summary",{className:"btn w-24",children:"Quick Relic"}),(0,o.jsx)("ul",{className:"p-2 shadow-xl menu dropdown-content z-[1] bg-base-100 rounded-box w-52",children:Object.entries(s.tiles).map((e=>"relic"===e[1].tile_type&&"least_cash"===e[1].game_type?(0,o.jsx)("li",{children:(0,o.jsxs)("a",{id:e[0],onClick:w,children:[(0,o.jsx)("img",{className:"w-[20px]",src:r.Gh[e[1].relic]}),(0,u.iS)(e[1].relic)]})},e[1].relic):null))})]})]}),t?(0,o.jsx)(x,{tileCode:t,tile:s.tiles[t]}):(0,o.jsx)("p",{className:"text-center",children:"No tile selected."})]})]})})},b={easy:.85,medium:1,hard:1.08,impoppable:1.2},y=e=>{let{solution:s}=e;return(0,o.jsx)("div",{className:"indicator gap-3 justify-center w-2/3 border-b border-white/25 py-4",children:s.sort(((e,s)=>s.cost-e.cost)).map((e=>(0,o.jsx)(p,{name:"".concat(e.name,": $").concat(e.cost),image:r.yc[e.name],indicator:e.path},"".concat(e.path," ").concat(e.name))))})},N=e=>{let{solutions:s,solutionTile:l,disableClear:t,clearSolutions:a}=e;return(0,o.jsxs)("div",{className:"w-64",children:[(0,o.jsxs)("p",{className:"text-lg font-bold text-center",children:["Possible Solutions",l?" for ".concat(l):""]}),s.length>0?(0,o.jsxs)("div",{className:"overflow-y-scroll overflow-x-hidden max-h-96 h-96 my-4 py-4 flex flex-col items-center bg-base-200 rounded-xl",children:[(0,o.jsx)("p",{className:"font-semibold",children:"Solutions"}),s.map(((e,s)=>(0,o.jsx)(y,{solution:e},s)))]}):(0,o.jsx)("p",{className:"text-center",children:"Solutions will appear here."}),(0,o.jsxs)("p",{className:"text-center italic",children:["Showing ",s.length," total solution",1===s.length?"":"s","."]}),(0,o.jsx)("div",{className:"flex gap-4 items-center justify-center py-2",children:(0,o.jsx)("button",{className:"btn min-w-24 outline outline-1 outline-error text-error",disabled:t,onClick:a,children:"Clear"})})]})},v=()=>{const{data:e,loading:s}=(()=>{const e="https://sciplypandora.github.io/static/json/configs/CT55.json",[s,l]=(0,i.useState)({size:-1,event:-1,tiles:{"":c}}),[t,a]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{(async()=>{try{const s=await fetch(e);if(!s.ok)throw new Error("Failed to fetch data");const t=await s.json();for(let e in t.tiles)t.tiles[e].map||delete t.tiles[e];l(t),console.log(t)}catch(s){console.log(s)}finally{a(!1)}})()}),[e]),{data:s,loading:t}})(),{data:l,loading:a}=(()=>{const e="https://raw.githubusercontent.com/hemisemidemipresent/cyberquincy/master/jsons/costs.json",[s,l]=(0,i.useState)({}),[t,a]=(0,i.useState)(!0);return(0,i.useEffect)((()=>{(async()=>{try{const s=await fetch(e);if(!s.ok)throw new Error("Failed to fetch data");const t=await s.json();l(t),console.log(t)}catch(s){console.log(s)}finally{a(!1)}})()}),[e]),{data:s,loading:t}})(),[d,m]=(0,i.useState)(""),[h,x]=(0,i.useState)([]),[g,f]=(0,i.useState)(0),[j,y]=(0,i.useState)(2),[v,k]=(0,i.useState)(!1),[_,S]=(0,i.useState)([]),[C,M]=(0,i.useState)(""),[T,R]=(0,i.useState)(!1),[z,A]=(0,i.useState)([]),[L,D]=(0,i.useState)([]),O=s||a;(0,i.useEffect)((()=>{T&&setTimeout((()=>{F()}),1)}),[T]);const B=e=>{const s=e.target.value;y(s)},F=()=>{const s=[],t=e.tiles[d].towers,a=h.includes("marching_boots")?1:0,i=[{towerType:"all",costMultipiler:b[e.tiles[d].difficulty]}];h.includes("air_and_sea")&&i.push({towerType:"military",costMultipiler:.95}),h.includes("magic_monkeys")&&i.push({towerType:"magic",costMultipiler:.95}),console.log(i);for(let e=0;e<6;e++)for(let l=0;l<6;l++)for(let t=0;t<6;t++)s.push([e,l,t]);const o=s.filter(((e,s,l)=>l.indexOf(e)===s)).filter((e=>e.filter((e=>e>2)).length<=1)).filter((e=>e.filter((e=>0===e)).length>0)).sort();if(""!==d){M(d);const e=o.flatMap((e=>Object.entries(l).map((s=>{let[l,a]=s;if(!t.find((e=>l.includes(e.tower))))return{name:l,path:"",cost:-1};const o=u.HK[l],[n,r,c]=e;let d=(0,u.QC)(a.cost*i[0].costMultipiler);return d+=Array.from({length:n+1},((e,s)=>{let l=0;for(let t=0;t<i.length;t++)"all"!==i[t].towerType&&o!==i[t].towerType||(l+=(0,u.QC)(a.upgrades.top_path[s]*i[t].costMultipiler)||0);return l})).reduce(((e,s)=>e+s),0),d+=Array.from({length:r+1},((e,s)=>{let l=0;for(let t=0;t<i.length;t++)"all"!==i[t].towerType&&o!==i[t].towerType||(l+=(0,u.QC)(a.upgrades.middle_path[s]*i[t].costMultipiler)||0);return l})).reduce(((e,s)=>e+s),0),d+=Array.from({length:c+1},((e,s)=>{let l=0;for(let t=0;t<i.length;t++)"all"!==i[t].towerType&&o!==i[t].towerType||(l+=(0,u.QC)(a.upgrades.bottom_path[s]*i[t].costMultipiler)||0);return l})).reduce(((e,s)=>e+s),0),{name:l,path:e.join(""),cost:d}})))).filter((e=>e.cost>0&&e.cost<=g)).sort(((e,s)=>s.cost-e.cost));console.log(e.filter((e=>"druid_monkey"===e.name)));const s=[],n=[];L.map((s=>{const l=e.find((e=>e.name===s.name&&e.path===s.path));l&&n.push(l)})),console.log(n);const r=n.reduce(((e,s)=>e+s.cost),0);console.log(r),console.log(t.map((e=>({name:e.tower,remaining:e.max+a})))),console.log(t.map((e=>({name:e.tower,remaining:e.max+a})))),I({targetPrice:g-r,potentialTowers:e,towerLimit:j-(n.length>j?j:n.length),perTowerLimits:t.map((e=>({name:e.tower,remaining:e.max+a}))),block:e=>{e.length>0&&s.push(n.concat(e))}}),console.log(s),S(s.sort(((e,s)=>e.length-s.length))),R(!1)}};let E=0;const I=e=>{let{targetPrice:s,potentialTowers:l,towerLimit:t,perTowerLimits:a,block:i}=e;if(!i)return;if(0===s){if(v&&0!==t)return;return E++,void i([])}if(s<0)return;if(0===t)return;if(0===l.length)return;if(E>=2e3)return;const[o,...n]=l,{name:r,path:c,cost:d}=o,m=a.findIndex((e=>o.name.includes(e.name)));0===a[m].remaining&&n.filter((e=>e.name!==r)),0===a[m].remaining||z.includes(o.name)||I({targetPrice:s-d,potentialTowers:n,towerLimit:t-1,perTowerLimits:a.map((e=>e.name===r?{name:e.name,remaining:e.remaining-1}:e)),block:e=>{i([o,...e])}}),I({targetPrice:s,potentialTowers:n,towerLimit:t,perTowerLimits:a,block:e=>{i([...e])}})};return(0,o.jsxs)("div",{className:"flex w-full flex-col items-center",children:[(0,o.jsx)("p",{className:"font-bold text-2xl py-2 font-display tracking-tighter text-accent",children:"Least Cash Reverse Calculator"}),(0,o.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,o.jsxs)("label",{className:"input input-bordered flex items-center gap-2",children:[(0,o.jsx)("img",{src:t,className:"w-[28px]"}),(0,o.jsx)("input",{className:"font-medium text-lg max-w-40",type:"text",inputMode:"numeric",placeholder:"Score",value:g,onChange:e=>{const s=e.target.value;(""===s||/^[0-9\b]*$/.test(s))&&f(Number(s))}})]}),(0,o.jsxs)("details",{className:"dropdown",children:[(0,o.jsx)("summary",{className:"btn w-24"+(d?"":" btn-disabled"),children:"Heroes"}),(0,o.jsxs)("ul",{className:"p-2 pb-6 shadow-xl menu dropdown-content z-[51] bg-base-100 rounded-box w-56",children:[(0,o.jsx)("li",{className:"pointer-events-none",children:(0,o.jsx)("p",{className:"divider justify-center px-2",children:"Misc."})}),(0,o.jsxs)("div",{className:"flex gap-2 items-center justify-center mx-2",children:[(0,o.jsx)("p",{className:"font-medium whitespace-nowrap",children:"Max Towers:"}),(0,o.jsx)("input",{type:"range",min:1,max:10,value:j,onChange:B,className:"range range-xs"}),(0,o.jsx)("p",{className:"text-lg font-medium",children:j})]}),(0,o.jsx)("li",{children:(0,o.jsxs)("a",{onClick:()=>{k((e=>!e))},children:[(0,o.jsxs)("p",{className:"font-medium text-sm",children:["Only solutions with ",j," towers?"]}),(0,o.jsx)("input",{type:"checkbox",checked:v,className:"checkbox checkbox-sm",readOnly:!0})]})})]})]}),(0,o.jsx)("button",{className:"btn w-24"+(d?"":" btn-disabled"),onClick:()=>document.getElementById("tower-modal").showModal(),children:"Towers"}),(0,o.jsxs)("dialog",{id:"tower-modal",className:"modal",children:[(0,o.jsxs)("div",{className:"modal-box max-w-3xl",children:[(0,o.jsx)("h3",{className:"font-bold text-lg",children:"Tower Filters"}),(0,o.jsxs)("p",{className:"py-4",children:["Add any towers and paths you want the calculation to ",(0,o.jsx)("u",{children:"ALWAYS"})," ","consider."]}),(0,o.jsxs)("div",{className:"",children:[(0,o.jsxs)("div",{className:"overflow-x-hidden overflow-y-scroll max-h-56 h-56 my-2 py-4 flex flex-col items-center bg-base-200 rounded-xl",children:[(0,o.jsx)("p",{className:"font-semibold",children:"Applied Tower Filters"}),(0,o.jsx)("div",{className:"indicator w-full px-12 py-4 gap-2 flex-wrap",children:L.map(((e,s)=>(0,o.jsx)("a",{className:"btn hover:outline hover:outline-error hover:cursor-pointer",onClick:()=>(e=>{const s=[...L];console.log(e),e>=0&&s.splice(e,1),console.log(s),D(s)})(s),children:(0,o.jsx)(p,{name:"Delete",image:r.yc[e.name],indicator:e.path},"".concat(e.path," ").concat(e.name))})))})]}),(0,o.jsx)("div",{className:"gap-y-2 flex flex-wrap my-4 w-full",children:d?Object.entries(e.tiles[d].towers).map((e=>(0,o.jsx)("div",{className:"basis-1/2 px-4",children:(0,o.jsxs)("div",{className:"flex items-center gap-2",children:[(0,o.jsx)("img",{src:r.yc[e[1].tower],className:"w-[28px]"}),(0,o.jsx)("span",{className:"label-text grow",children:(0,u.iS)(e[1].tower)}),(0,o.jsx)("label",{className:"input input-bordered flex max-w-16",children:(0,o.jsx)("input",{className:"font-normal w-full",placeholder:"000",maxLength:3,id:"".concat(e[1].tower,"-path")})}),(0,o.jsx)("button",{className:"btn outline outline-1",onClick:()=>(e=>{const s=[...L],l=document.getElementById("".concat(e,"-path")).value,t=l.split("").map(Number);if(!l)return void console.log("PATH EMPTY");const a=[t].filter((e=>e.filter((e=>e>2)).length<=1)).filter((e=>e.filter((e=>0===e)).length>0)).filter((e=>0===e.filter((e=>e>5)).length)).flatMap((e=>e));console.log(a),0!==a.length?(s.push({name:e,path:l,cost:-1}),console.log(s),D(s)):console.log("INVALID PATH")})(e[1].tower),children:"+"})]})},e[0]))):null})]}),(0,o.jsx)("div",{className:"modal-action",children:(0,o.jsx)("form",{method:"dialog",children:(0,o.jsx)("button",{className:"btn outline outline-1 outline-error text-error",children:"Close"})})})]}),(0,o.jsx)("form",{method:"dialog",className:"modal-backdrop",children:(0,o.jsx)("button",{children:"close"})})]}),(0,o.jsxs)("details",{className:"dropdown",children:[(0,o.jsx)("summary",{className:"btn w-24"+(d?"":" btn-disabled"),children:"Filters"}),(0,o.jsxs)("ul",{className:"p-2 pb-6 shadow-xl menu dropdown-content z-[51] bg-base-100 rounded-box w-56",children:[(0,o.jsx)("li",{className:"pointer-events-none",children:(0,o.jsx)("p",{className:"divider justify-center px-2",children:"Misc."})}),(0,o.jsxs)("div",{className:"flex gap-2 items-center justify-center mx-2",children:[(0,o.jsx)("p",{className:"font-medium whitespace-nowrap",children:"Max Towers:"}),(0,o.jsx)("input",{type:"range",min:1,max:10,value:j,onChange:B,className:"range range-xs"}),(0,o.jsx)("p",{className:"text-lg font-medium",children:j})]}),(0,o.jsx)("li",{children:(0,o.jsxs)("a",{onClick:()=>{k((e=>!e))},children:[(0,o.jsxs)("p",{className:"font-medium text-sm",children:["Only solutions with ",j," towers?"]}),(0,o.jsx)("input",{type:"checkbox",checked:v,className:"checkbox checkbox-sm",readOnly:!0})]})})]})]}),(0,o.jsx)("button",{className:"btn min-w-24 outline outline-1"+(T?" outline-warning text-warning":" outline-success text-success"),disabled:""===d,onClick:()=>{R(!0),(async()=>{R(!0)})()},children:T?"Loading...":"Calculate"})]}),(0,o.jsxs)("div",{className:"flex gap-2 py-5",children:[(0,o.jsx)(w,{data:e,loading:O,selectedTile:d,changeTile:s=>{m(s),e.tiles[s].towers.find((e=>"monkey_village"===e.tower))&&console.log("uh oh... a village tile! that'll cause issues with calculations")},relics:h}),(0,o.jsx)("div",{className:"divider divider-horizontal",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10.605",height:"15.555",className:"fill-neutral-content overflow-visible",children:(0,o.jsx)("path",{d:"m2.828 15.555 7.777-7.779L2.828 0 0 2.828l4.949 4.948L0 12.727l2.828 2.828z"})})}),(0,o.jsx)(n,{data:e,loading:O,relics:h,handleRelicFilterClick:e=>{const s=[...h];s.includes(e)?s.splice(s.indexOf(e),1):s.push(e),console.log(s),x(s)}}),(0,o.jsx)("div",{className:"divider divider-horizontal",children:(0,o.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"10.605",height:"15.555",className:"fill-neutral-content overflow-visible",children:(0,o.jsx)("path",{d:"m2.828 15.555 7.777-7.779L2.828 0 0 2.828l4.949 4.948L0 12.727l2.828 2.828z"})})}),(0,o.jsx)(N,{solutions:_,solutionTile:C,disableClear:""===d,clearSolutions:()=>{M(""),S([])}})]}),(0,o.jsx)("div",{className:"divider font-display",children:"Notes"}),(0,o.jsxs)("p",{className:"text-center",children:["This calculator is experimental! It's not guaranteed to work.",(0,o.jsx)("br",{}),"Thanks Josh Cheek (Spike Factory) for the base algorithm.",(0,o.jsx)("br",{}),"Suggestions regarding: UI/UX, solution ordering, filters, and such, are always welcome."]}),(0,o.jsx)("div",{className:"divider font-display",children:"Nerdy Stuff"}),(0,o.jsxs)("p",{className:"text-center",children:["It's possible that the site crashes while doing calculations. All I can say right now is be nice with your parameters.",(0,o.jsx)("br",{}),"If your goal is to crash the site, you're in the wrong place.",(0,o.jsx)("br",{})]}),(0,o.jsx)("p",{className:"font-semibold",children:"The algorithm works as follows:"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:"- Build data structure (an array) with all possible upgrade paths (000, 203, 051, etc.)"}),(0,o.jsx)("li",{children:"- Apply prices of available towers to possible upgrade paths, removing ones greater than the target score (user input)"}),(0,o.jsx)("li",{children:"- Apply any relic modifers and tower count restrictions"}),(0,o.jsx)("li",{children:"- Generate a ton of combinations (the computation heavy portion)"}),(0,o.jsx)("li",{children:"- Display solutions; hopefully ones with 1 or more high power towers (tiers 4-5; if applicable)"})]}),(0,o.jsx)("div",{className:"divider font-display"})]})}},642:(e,s,l)=>{l.d(s,{Ei:()=>m,F$:()=>p,HK:()=>x,QC:()=>a,Us:()=>h,YG:()=>u,be:()=>c,fF:()=>o,fh:()=>r,iS:()=>n,u3:()=>d,vp:()=>g,xX:()=>i});var t=l(7499);const a=e=>e%5===2.5?5*Math.floor(e/5):5*Math.round(e/5),i=e=>{const s=Math.floor(e/36e5),l=Math.floor(e%36e5/6e4),t=Math.floor(e%6e4/1e3),a=Math.floor(e%1e3/10),i=s>0?s.toString().padStart(2,"0"):"",o=l.toString().padStart(2,"0"),n=t.toString().padStart(2,"0"),r=a.toString().padStart(2,"0");return i?"".concat(i,":").concat(o,":").concat(n,".").concat(r):"".concat(o,":").concat(n,".").concat(r)},o=e=>{const s=Date.now()-e,l=6e4,t=36e5,a=864e5;if(s<l){const e=Math.floor(s/1e3);return"".concat(e," second").concat(1!==e?"s":""," ago")}if(s<t){const e=Math.floor(s/l);return"".concat(e," minute").concat(1!==e?"s":""," ago")}if(s<a){const e=Math.floor(s/t);return"".concat(e," hour").concat(1!==e?"s":""," ago")}{const e=Math.floor(s/a);return"".concat(e," day").concat(1!==e?"s":""," ago")}},n=e=>{const s=["or","the","a","of"];return e.split("_").map((l=>s.includes(l)&&0!==e.split("_").indexOf(l)?l:l.charAt(0).toUpperCase()+l.slice(1))).join(" ")},r=e=>e.split("_").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join(""),c=(e,s)=>{const l=e/s*100;return 1===e?t.R8.black_diamond:2===e?t.R8.red_diamond:3===e?t.R8.diamond:e<=50?t.R8.gold_diamond:l<=1?t.R8.double_gold:l<=10?t.R8.gold_silver:l<=25?t.R8.double_silver:l<=50?t.R8.silver:l<=75?t.R8.bronze:""},d=(e,s)=>{const l=e/s*100;return 1===e?t.oD.black_diamond:2===e?t.oD.red_diamond:3===e?t.oD.diamond:e<=50?t.oD.gold_diamond:l<=1?t.oD.double_gold:l<=10?t.oD.gold_silver:l<=25?t.oD.double_silver:l<=50?t.oD.silver:l<=75?t.oD.bronze:""},m=(e,s)=>{const l=e/s*100;return 1===e?t.o9.black_diamond:2===e?t.o9.red_diamond:3===e?t.o9.diamond:e<=50?t.o9.gold_diamond:l<=1?t.o9.double_gold:l<=10?t.o9.gold_silver:l<=25?t.o9.double_silver:l<=50?t.o9.silver:l<=75?t.o9.bronze:""},h=(e,s)=>{const l=e/s*100;return e<=25?t.Ks.diamond:e<=100?t.Ks.gold_diamond:l<=1?t.Ks.double_gold:l<=10?t.Ks.gold_silver:l<=25?t.Ks.double_silver:l<=50?t.Ks.silver:l<=75?t.Ks.bronze:""},u=(e,s)=>{const l=e/s*100;return 1===e?t.oh.black_diamond:2===e?t.oh.red_diamond:3===e?t.oh.diamond:e<=25?t.oh.gold_diamond:e<=100?t.oh.double_gold:l<=1?t.oh.gold_silver:l<=10?t.oh.double_silver:l<=25?t.oh.silver:l<=75?t.oh.bronze:""},p=e=>{const s=e%10,l=e%100;return 1===s&&11!==l?e+"st":2===s&&12!==l?e+"nd":3===s&&13!==l?e+"rd":e+"th"},x={alchemist:"magic",banana_farm:"support",beast_handler:"support",boomerang_monkey:"primary",bomb_shooter:"primary",dart_monkey:"primary",dartling_gunner:"military",druid:"magic",druid_monkey:"magic",engineer_monkey:"support",glue_gunner:"primary",heli_pilot:"military",ice_monkey:"primary",mermonkey:"magic",monkey_ace:"military",monkey_buccaneer:"military",monkey_sub:"military",monkey_village:"support",mortar_monkey:"military",ninja_monkey:"magic",sniper_monkey:"military",spike_factory:"support",super_monkey:"magic",tack_shooter:"primary",wizard_monkey:"magic"},g={Race:"Race",Boss:"Boss",Boss2:"Boss",Boss3:"Boss",Boss4:"Boss",CtPlayer:"Contested Territory",CtTeam:"Contested Territory"}},9967:(e,s,l)=>{e.exports=l.p+"static/media/least_cash_s.39058b7c9ad6a6632888.webp"}}]);
//# sourceMappingURL=635.83c43018.chunk.js.map